<div ng-controller="Umbraco.Editors.DataTypeConfigurationPickerController as vm">
    <umb-editor-view data-element="editor-data-type-picker">

        <form novalidate name="DataTypeConfigurationPickerForm" val-form-manager>

        <umb-editor-header
            name="model.title"
            name-locked="true"
            hide-alias="true"
            hide-icon="true"
            hide-description="true">
        </umb-editor-header>

        <umb-editor-container>
            <umb-box>
                <umb-box-content>

                    <umb-load-indicator ng-if="vm.loading"></umb-load-indicator>

                    <div ng-if="!vm.loading">
                        <a href="" tabindex="0" umb-auto-focus></a>
                        <ul class="umb-card-grid -three-in-row">
                            <li ng-repeat="dataTypeConfig in vm.configs | orderBy:'name'"
                                data-element="datatypeconfig-{{dataTypeConfig.name}}">
                                <div ng-if="dataTypeConfig.loading" class="umb-card-grid-item__loading">
                                    <div class="umb-button__progress"></div>
                                </div>
                                <a class="umb-card-grid-item" href="" ng-click="vm.pickDataType(dataTypeConfig)" title="{{ dataTypeConfig.name }}">
                                    <span>
                                        <i class="{{ dataTypeConfig.icon }}" ng-class="{'icon-autofill': dataTypeConfig.icon == null}"></i>
                                        {{ dataTypeConfig.name }}
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <ul class="umb-card-grid -three-in-row">
                            <li>
                                <a class="umb-card-grid-item-slot" href="" ng-click="vm.newDataType()" title="Create a new configuration of {{ model.editor.name }}">
                                    <span>
                                        <i class="icon icon-add"></i>
                                        Create new
                                    </span>
                                </a>
                            </li>
                        </ul>

                    </div>

                </umb-box-content>
            </umb-box>
        </umb-editor-container>

        <umb-editor-footer>
            <umb-editor-footer-content-right>
                <umb-button
                    type="button"
                    button-style="link"
                    label-key="general_close"
                    shortcut="esc"
                    action="vm.close()">
                </umb-button>
            </umb-editor-footer-content-right>
        </umb-editor-footer>

        </form>

    </umb-editor-view>

</div>
