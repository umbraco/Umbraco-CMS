<div class="umb-property-file-upload">

    <ng-form name="vm.fileUploadForm" ng-class="{ 'drag-over': vm.dragover }">
        <input type="hidden" ng-model="mandatoryValidator" ng-required="vm.required && !vm.files.length" />

        <div class="fileinput-button umb-upload-button-big" ng-hide="vm.files.length > 0">
            <i class="icon icon-page-up" aria-hidden="true"></i>
            <p><localize key="media_clickToUpload">Click to upload</localize></p>
            <umb-single-file-upload accept-file-ext="vm.acceptFileExt"></umb-single-file-upload>
        </div>

        <div ng-if="vm.files.length > 0">
            <div ng-if="!vm.hideSelection">

                <div class="umb-fileupload clearfix" ng-repeat="file in vm.files">
                    <umb-media-preview extension="file.extension" source="file.fileSrc" name="file.fileName" client-side="file.isClientSide"></umb-media-preview>
                </div>
                
                <div>
                    <button type="button" class="btn btn-link btn-crop-delete" aria-hidden="true" ng-click="vm.clear()"><i class="icon-delete red"></i> <localize key="content_uploadClear">Remove file</localize></button>
                    <button type="button" class="sr-only" ng-if="file.isImage" ng-click="vm.clear()"><localize key="content_uploadClearImageContext">Click here to remove the image from the media item</localize></button>
                    <button type="button" class="sr-only" ng-if="!file.isImage" ng-click="vm.clear()"><localize key="content_uploadClearFileContext">Click here to remove the file from the media item</localize></button>
                </div>

            </div>
            <div ng-if="vm.hideSelection">
                <div ng-transclude></div>
            </div>
        </div>

    </ng-form>
</div>
