<div class="umb-editor umb-listview" ng-controller="Umbraco.PropertyEditors.ListViewController" ng-switch="isNew">

    <div class="row-fluid" ng-switch-when="true">

    </div>

    <div class="row-fluid" ng-switch-when="false">
        <div class="umb-sub-header">

            <div class="btn-group" ng-show="listViewAllowedTypes && listViewAllowedTypes.length > 0">
                <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                    <localize key="actions_create">Create</localize>
                    <span class="caret"></span>
                </a>
                <ul class="dropdown-menu">
                    <li ng-repeat="contentType in listViewAllowedTypes">
                        <a href="#/{{entityType}}/{{entityType}}/edit/{{contentId}}?doctype={{contentType.alias}}&create=true">
                            <i class="icon-{{contentType.cssClass}}"></i>
                            {{contentType.name}}
                        </a>
                    </li>
                </ul>
            </div>

            <div class="btn-group" ng-show="isAnythingSelected()" ng-if="entityType === 'content' && !isTrashed && options.allowBulkPublish">
                <a class="btn btn-success" ng-disabled="actionInProgress" ng-click="publish()" prevent-default>
                    <localize key="actions_publish">Publish</localize>
                </a>
            </div>
            <div class="btn-group" ng-show="isAnythingSelected()" ng-if="entityType === 'content' && !isTrashed && options.allowBulkUnpublish">
                <a class="btn btn-warning" ng-disabled="actionInProgress" ng-click="unpublish()" prevent-default>
                    <localize key="actions_unpublish">Unpublish</localize>
                </a>
            </div>
            <div class="btn-group" ng-show="isAnythingSelected()" ng-if="options.allowBulkDelete">
                <a class="btn btn-danger" ng-disabled="actionInProgress" ng-click="delete()" prevent-default>
                    <localize key="actions_delete">Delete</localize>
                </a>
            </div>

            <div class="umb-loader-wrapper" ng-show="actionInProgress">
                <div class="umb-loader"></div>
            </div>

            <span ng-bind="bulkStatus" ng-show="isAnythingSelected()" class="pull-right"></span>

            <div class="pull-right">

               <form class="form-search pull-right" novalidate ng-show="!actionInProgress">
                   <div class="inner-addon left-addon">
                       <i class="icon icon-search" ng-click="enterSearch($event)"></i>
                       <input type="text" class="form-control" localize="placeholder" placeholder="@general_typeToSearch" ng-model="options.filter" prevent-enter-submit no-dirty-check>
                   </div>
               </form>

               <umb-layout-selector
                  ng-if="model.config.layouts"
                  layouts="model.config.layouts"
                  active-layout="layout.activeLayout">
               </umb-layout-selector>

            </div>

        </div>

        <div ng-include="layout.activeLayout.path"></div>

        <div class="pagination" ng-show="pagination.length > 1">

           <ul>
              <li ng-class="{disabled:options.pageNumber <= 1}">
                   <a href="#" ng-click="prev()" prevent-default>
                      <localize key="general_previous">Previous</localize>
                   </a>
              </li>

              <li ng-repeat="pgn in pagination"
                   ng-class="{active:pgn.isActive}">

                   <a href="#" ng-click="goToPage(pgn.val - 1)" prevent-default
                      ng-bind="pgn.name ? pgn.name : pgn.val"
                      ng-if="pgn.val != '...'"></a>
                   <span ng-bind="pgn.val" ng-if="pgn.val == '...'"></span>
              </li>

              <li ng-class="{disabled:options.pageNumber >= listViewResultSet.totalPages}">
                   <a href="#" ng-click="next()" prevent-default>
                      <localize key="general_next">Next</localize>
                   </a>
              </li>
           </ul>

        </div>

    </div>
</div>
